<app-crud
[isEmpty]="isEmpty"
[isLoaded]="isLoaded"
[gridTemplate]="gridTemplate"
[formTemplate]="formTemplate"
[filterTemplate]="filterTemplate"
[breadcrumbs]="breadcrumbs"
(onApply)="onApply()"
(onSubmit)="onSubmit()"
(onUpdate)="onUpdate()"
(onChange)="onChange($event)"
(onSearch)="onSearch($event)"
>
</app-crud>

<!-- filter Template -->
<ng-template #filterTemplate>
    <form [formGroup]="form">
        <div>
            <mat-form-field class="w-full" hideRequiredMarker>
                <mat-label>Status</mat-label>
                <mat-select data-cy="status" formControlName="status">
                    <mat-option value="active">Active</mat-option>
                    <mat-option value="inActive">Inactive</mat-option>
                  </mat-select>
            </mat-form-field>
        </div>
    </form>
</ng-template>

<ng-template #gridTemplate>
<div class="flex-auto flex flex-col overflow-auto">
    <div class="p-8 grid grid-cols-5 gap-6">
        <div class="p-3 rounded-lg border bg-white" [ngClass]="{'shadow-[0_0_0px_3px_black] shadow-primary':item.status === 'active'}" *ngFor="let item of themes" [attr.data-cy]="'card--'+item.themeName">
            <app-svg [theme]="item" class="relative z-10"></app-svg>
            <div class="flex items-center gap-3 mt-3">
                <mat-icon class="text-amber-400" [svgIcon]="'heroicons_solid:star'" *ngIf="item.status === 'active'"></mat-icon>
                <div class="flex-1 text-truncate">{{item.themeName}}</div>
                <div class="flex">
                    <button [disabled]="item.status === 'active'" type="button" data-cy="delete" (click)="deleteFn(item)" mat-icon-button><mat-icon [svgIcon]="'heroicons_outline:trash'"></mat-icon></button>
                    <button type="button" data-cy="edit" (click)="updateFn(item)" mat-icon-button><mat-icon [svgIcon]="'heroicons_outline:pencil'"></mat-icon></button>
                </div>
            </div>
        </div>
    </div>
</div>

    <mat-paginator
    (page)="onPageChange($event)"
    [length]="params.pageCount"
    [pageSize]="params.pageSize"
    [pageIndex]="params.pageNumber"
    [pageSizeOptions]="params.pageSizes"
    class="border-t bg-white"></mat-paginator>
</ng-template>
<ng-template #formTemplate>
    <form [formGroup]="form">
        <ng-template #colorBlock let-control="control" let-icon="icon" let-lable="lable">
            <div class="relative cursor-pointer group" [matTooltip]="lable">
                <label [for]="control">
                    <div class="flex flex-col gap-1 items-center justify-center w-12 h-12 p-1 bg-white group-hover:bg-gray-50 rounded-lg border relative overflow-hidden" [style.background]="form.get(control).value" [ngClass]="{'border-red-500':form.get(control).touched && form.get(control).hasError('required')}">
                        <mat-icon class="icon-size-5 block" [svgIcon]="icon ? icon : 'heroicons_outline:plus'"></mat-icon>
                        <div class="w-full shadow-[0_0_0_1px_inset_black] shadow-black/10 h-1.5 rounded-full" [style.background]="form.get(control).value" [svgIcon]="icon ? icon : 'heroicons_outline:plus'"></div>

                    </div>
                </label>
                <input class="absolute h-0 w-0 border invisible overflow-hidden" [id]="control" type="color" [formControlName]="control"   />
            </div>
        </ng-template>
        <div class="grid grid-cols-2 gap-10 items-start">
            <div>
                <app-svg [theme]="form.value"></app-svg>

                </div>
            <div class="grid grid-cols-1 gap-4">

                <div>
                    <mat-form-field class="w-full" hideRequiredMarker subscriptSizing='dynamic'>
                        <mat-label>Theme Name</mat-label>
                        <input matInput formControlName="themeName" data-cy="themeName">
                        <mat-error *ngIf="form.get('themeName').hasError('required')">*Required </mat-error>
                    </mat-form-field>
                </div>
                <mat-form-field class="w-full" hideRequiredMarker subscriptSizing='dynamic'>
                    <mat-label>Status</mat-label>
                        <mat-select formControlName="status">
                          <mat-option *ngFor="let item of ['active','inActive']" [value]="item">
                            {{item}}
                          </mat-option>
                        </mat-select>
                </mat-form-field>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'windowTitleBackgroundColor',icon:'msr_outline:fill',lable:'Window Background Color'}" ></ng-container>
                    <div>Window Title Background Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'windowTitleTextColor',icon:'msr_outline:text',lable:'Window Text Color'}" ></ng-container>
                    <div>Window Title Text Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'chatbotBackgroundColor',icon:'msr_outline:fill',lable:'Chatbot Background Color'}" ></ng-container>
                    <div>Chatbot Background Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'chatbotTextColor',icon:'msr_outline:text',lable:'Chatbot Text Color'}" ></ng-container>
                    <div>Chatbot Text Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'messageBackgroundColor',icon:'msr_outline:fill',lable:'Message Background Color'}" ></ng-container>
                    <div>Message Background Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'userMessageTextColor',icon:'msr_outline:text',lable:'Message Text Color'}" ></ng-container>
                    <div>Message Text Color</div>
                </div>


                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonBackgroundColor',icon:'msr_outline:fill',lable:'Button Background Color'}" ></ng-container>
                    <div>Button Background Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonTextColor',icon:'msr_outline:text',lable:'Button Text Color'}" ></ng-container>
                    <div>Button Text Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonHoverBackgroundColor',icon:'msr_outline:fill',lable:'Button Background Hover Color'}" ></ng-container>
                    <div>Button over Background Color</div>
                </div>
                <div class="flex gap-4 items-center">
                    <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonHoverTextColor',icon:'msr_outline:text',lable:'Button Text Hover Color'}" ></ng-container>
                    <div>Button Hover Text Color</div>
                </div>

                <!-- <div class="flex flex-wrap -mx-4 -mt-4">
                    <div class="flex-0 basis-1/3 p-4">
                        <div class="text-sm text-current mb-1">Window</div>
                        <div class="flex -mx-1">
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'windowTitleBackgroundColor',icon:'mat_outline:format_color_fill',lable:'Window Background Color'}" ></ng-container>
                            </div>
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'windowTitleTextColor',icon:'mat_outline:format_color_text',lable:'Window Text Color'}" ></ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="flex-0 basis-1/3 p-4">
                        <div class="text-sm text-current mb-1">Chatbot</div>
                        <div class="flex -mx-1">
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'chatbotBackgroundColor',icon:'mat_outline:format_color_fill',lable:'Chatbot Background Color'}" ></ng-container>
                            </div>
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'chatbotTextColor',icon:'mat_outline:format_color_text',lable:'Chatbot Text Color'}" ></ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="flex-0 basis-1/3 p-4">
                        <div class="text-sm text-current mb-1">Message</div>
                        <div class="flex -mx-1">
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'messageBackgroundColor',icon:'mat_outline:format_color_fill',lable:'Message Background Color'}" ></ng-container>
                            </div>
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'userMessageTextColor',icon:'mat_outline:format_color_text',lable:'Message Text Color'}" ></ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="flex-0 basis-full p-4">
                        <div class="text-sm text-current mb-1">Button</div>
                        <div class="flex -mx-1">
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonBackgroundColor',icon:'mat_outline:format_color_fill',lable:'Button Background Color'}" ></ng-container>
                            </div>
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonTextColor',icon:'mat_outline:format_color_text',lable:'Button Text Color'}" ></ng-container>
                            </div>
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonHoverBackgroundColor',icon:'mat_outline:format_color_fill',lable:'Button Background Hover Color'}" ></ng-container>
                            </div>
                            <div class="flex-0 px-1">
                                <ng-container [ngTemplateOutlet]="colorBlock" [ngTemplateOutletContext]="{control:'buttonHoverTextColor',icon:'mat_outline:format_color_text',lable:'Button Text Hover Color'}" ></ng-container>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <mat-form-field class="w-full" hideRequiredMarker>
                        <mat-label>Status</mat-label>
                        <mat-select data-cy="status" formControlName="status">
                            <mat-option value="active">Active</mat-option>
                            <mat-option value="inActive">Inactive</mat-option>
                          </mat-select>
                          <mat-error *ngIf="form.get('status').hasError('required')">*Required </mat-error>
                    </mat-form-field>
                </div> -->
            </div>
        </div>

    </form>
</ng-template>
