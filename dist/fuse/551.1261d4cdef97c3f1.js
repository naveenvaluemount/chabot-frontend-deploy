"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[551],{2551:(B,f,a)=>{a.r(f),a.d(f,{Routes:()=>h,SignInModule:()=>l});var _=a(6895),s=a(4006),T=a(8288),n=a(4650),c=a(3060),J=a(9274),C=a(5412),N=a(7009),I=a(284),p=a(9549),Z=a(7392),u=a(4859),v=a(8214),Q=a(2109);const b=["signInNgForm"];function y(t,e){if(1&t&&(n.TgZ(0,"fuse-alert",18),n._uU(1),n.qZA()),2&t){const o=n.oxw();n.Q6J("appearance","outline")("showIcon",!1)("type",o.alert.type)("@shake","error"===o.alert.type),n.xp6(1),n.hij(" ",o.alert.message," ")}}function A(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Required "),n.qZA())}function S(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Invalid Email Address"),n.qZA())}function F(t,e){1&t&&n._UZ(0,"mat-icon",19),2&t&&n.Q6J("svgIcon","heroicons_solid:eye")}function q(t,e){1&t&&n._UZ(0,"mat-icon",19),2&t&&n.Q6J("svgIcon","heroicons_solid:eye-off")}function k(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1," Sign In "),n.qZA())}function Y(t,e){1&t&&n._UZ(0,"mat-progress-spinner",20),2&t&&n.Q6J("diameter",24)("mode","indeterminate")}function w(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1," Sign Up "),n.qZA())}function R(t,e){1&t&&n._UZ(0,"mat-progress-spinner",20),2&t&&n.Q6J("diameter",24)("mode","indeterminate")}function M(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Required "),n.qZA())}function E(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Required "),n.qZA())}function G(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Required "),n.qZA())}function O(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Required "),n.qZA())}function j(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1,"Invalid Email Address"),n.qZA())}function H(t,e){1&t&&n._UZ(0,"mat-icon",19),2&t&&n.Q6J("svgIcon","heroicons_solid:eye")}function K(t,e){1&t&&n._UZ(0,"mat-icon",19),2&t&&n.Q6J("svgIcon","heroicons_solid:eye-off")}function z(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1," Sign Up "),n.qZA())}function D(t,e){1&t&&n._UZ(0,"mat-progress-spinner",20),2&t&&n.Q6J("diameter",24)("mode","indeterminate")}function P(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"h1",21),n._uU(1,"SignUp"),n.qZA(),n.TgZ(2,"div",22)(3,"form",2,3)(5,"mat-form-field",4),n._UZ(6,"mat-icon",5),n.TgZ(7,"mat-label"),n._uU(8,"Firstname"),n.qZA(),n._UZ(9,"input",23),n.YNc(10,M,2,0,"mat-error",7),n.qZA(),n.TgZ(11,"mat-form-field",4),n._UZ(12,"mat-icon",5),n.TgZ(13,"mat-label"),n._uU(14,"lastname"),n.qZA(),n._UZ(15,"input",24),n.YNc(16,E,2,0,"mat-error",7),n.qZA(),n.TgZ(17,"mat-form-field",4),n._UZ(18,"mat-icon",5),n.TgZ(19,"mat-label"),n._uU(20,"Username"),n.qZA(),n._UZ(21,"input",6),n.YNc(22,G,2,0,"mat-error",7),n.qZA(),n.TgZ(23,"mat-form-field",4),n._UZ(24,"mat-icon",5),n.TgZ(25,"mat-label"),n._uU(26,"Email Address"),n.qZA(),n._UZ(27,"input",25),n.YNc(28,O,2,0,"mat-error",7),n.YNc(29,j,2,0,"mat-error",7),n.qZA(),n.TgZ(30,"mat-form-field",4),n._UZ(31,"mat-icon",5),n.TgZ(32,"mat-label"),n._uU(33,"Password"),n.qZA(),n._UZ(34,"input",8,9),n.TgZ(36,"button",10),n.NdJ("click",function(){n.CHM(o);const r=n.MAs(35);return n.KtG(r.type="password"===r.type?"text":"password")}),n.YNc(37,H,1,1,"mat-icon",11),n.YNc(38,K,1,1,"mat-icon",11),n.qZA(),n.TgZ(39,"mat-error"),n._uU(40,"Required "),n.qZA()()()(),n.TgZ(41,"div",26)(42,"div",12)(43,"button",27),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return n.KtG(r.register())}),n.YNc(44,z,2,0,"span",7),n.YNc(45,D,1,2,"mat-progress-spinner",14),n.qZA(),n.TgZ(46,"button",28),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return n.KtG(r.close())}),n._uU(47,"Cancel"),n.qZA()()()}if(2&t){const o=n.MAs(35),i=n.oxw();let r,m,d,U,x;n.xp6(3),n.Q6J("formGroup",i.signUpForm),n.xp6(3),n.Q6J("svgIcon","heroicons_outline:user"),n.xp6(3),n.Q6J("formControlName","firstname"),n.xp6(1),n.Q6J("ngIf",null==(r=i.signUpForm.get("firstname"))?null:r.hasError("required")),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:user"),n.xp6(3),n.Q6J("formControlName","lastname"),n.xp6(1),n.Q6J("ngIf",null==(m=i.signUpForm.get("lastname"))?null:m.hasError("required")),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:user"),n.xp6(3),n.Q6J("formControlName","username"),n.xp6(1),n.Q6J("ngIf",null==(d=i.signUpForm.get("userName"))?null:d.hasError("required")),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:user"),n.xp6(3),n.Q6J("formControlName","email"),n.xp6(1),n.Q6J("ngIf",null==(U=i.signUpForm.get("email"))?null:U.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(x=i.signUpForm.get("email"))?null:x.hasError("email")),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:key"),n.xp6(3),n.Q6J("formControlName","password"),n.xp6(3),n.Q6J("ngIf","password"===o.type),n.xp6(1),n.Q6J("ngIf","text"===o.type),n.xp6(5),n.Q6J("color","primary")("disabled",i.signUpForm.disabled),n.xp6(1),n.Q6J("ngIf",!i.signUpForm.disabled),n.xp6(1),n.Q6J("ngIf",i.signUpForm.disabled)}}const L=function(){return["/forgot-password"]};class g{constructor(e,o,i,r,m,d){this.route=e,this.api=o,this.fb=i,this.router=r,this.dailog=m,this.snackbar=d,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.api.signedInRedirect(this.api.userData),this.signInForm=this.fb.group({userName:["",[s.kI.required,s.kI.email]],password:["",s.kI.required]})}register(){if(!this.signUpForm.invalid){let e=Object.assign({});e.firstname=this.signUpForm.value.firstname,e.lastname=this.signUpForm.value.lastname,e.username=this.signUpForm.value.username,e.email=this.signUpForm.value.email,e.password=this.signUpForm.value.password,this.api.register(e).subscribe(o=>{console.log(o),200===o.statusCode&&200===o.statusCode&&this.signupDailogRef.close()})}}signIn(){if(!this.signInForm.invalid){let e=Object.assign({});e.email=this.signInForm.value.userName,e.password=this.signInForm.value.password,this.api.login(e).subscribe(o=>{200===o.statusCode?(this.api.signedInRedirect(o.response),console.log(o.response),localStorage.setItem("data",JSON.stringify(o.response)),this.snackbar.open(o.message?o.message:"Success.",null,{duration:3e3,panelClass:"snackbar-success"})):this.snackbar.open(o.message?o.message:"Something went wrong..",null,{duration:3e3,panelClass:"snackbar-error"})})}}signUp(e){this.signUpForm=this.fb.group({firstname:["",s.kI.required],lastname:["",s.kI.required],username:["",s.kI.required],email:["",[s.kI.required,s.kI.email]],password:["",s.kI.required]}),this.signupDailogRef=this.dailog.open(e,{width:"550px"})}close(){this.signupDailogRef.close()}}g.\u0275fac=function(e){return new(e||g)(n.Y36(c.gz),n.Y36(J.sM),n.Y36(s.qu),n.Y36(c.F0),n.Y36(C.uw),n.Y36(N.ux))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-sign-in"]],viewQuery:function(e,o){if(1&e&&n.Gf(b,5),2&e){let i;n.iGM(i=n.CRH())&&(o.signInNgForm=i.first)}},decls:33,vars:19,consts:[["heading","Sign In","bg","assets/images/banner.jpg"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8","grid","grid-cols-1","gap-5",3,"formGroup"],["signInNgForm","ngForm"],["appearance","outline","hideRequiredMarker",""],["matPrefix","",3,"svgIcon"],["data-cy","userName","id","email","matInput","",3,"formControlName"],[4,"ngIf"],["data-cy","password","id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",1,"mr-2",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"grid","grid-cols-1","gap-3"],["data-cy","signIn","mat-flat-button","",1,"fuse-mat-button-large",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],["data-cy","signup","mat-flat-button","",1,"fuse-mat-button-large",3,"color","click"],["mat-stroked-button","",1,"fuse-mat-button-large",3,"routerLink"],["signup",""],[1,"mt-8",3,"appearance","showIcon","type"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"],["mat-dialog-title","",1,"font-bold","text-2xl"],["mat-dialog-content",""],["data-cy","firstname","id","firstname","matInput","",3,"formControlName"],["data-cy","lastname","id","lastname","matInput","",3,"formControlName"],["data-cy","email","id","email","matInput","",3,"formControlName"],["mat-dialog-actions",""],["data-cy","signup","mat-flat-button","",3,"color","disabled","click"],[3,"click"]],template:function(e,o){if(1&e){const i=n.EpF();n.TgZ(0,"app-auth-layout",0),n.YNc(1,y,2,5,"fuse-alert",1),n.TgZ(2,"form",2,3)(4,"mat-form-field",4),n._UZ(5,"mat-icon",5),n.TgZ(6,"mat-label"),n._uU(7,"Email Address"),n.qZA(),n._UZ(8,"input",6),n.YNc(9,A,2,0,"mat-error",7),n.YNc(10,S,2,0,"mat-error",7),n.qZA(),n.TgZ(11,"mat-form-field",4),n._UZ(12,"mat-icon",5),n.TgZ(13,"mat-label"),n._uU(14,"Password"),n.qZA(),n._UZ(15,"input",8,9),n.TgZ(17,"button",10),n.NdJ("click",function(){n.CHM(i);const m=n.MAs(16);return n.KtG(m.type="password"===m.type?"text":"password")}),n.YNc(18,F,1,1,"mat-icon",11),n.YNc(19,q,1,1,"mat-icon",11),n.qZA(),n.TgZ(20,"mat-error"),n._uU(21,"Required "),n.qZA()(),n.TgZ(22,"div",12)(23,"button",13),n.NdJ("click",function(){return o.signIn()}),n.YNc(24,k,2,0,"span",7),n.YNc(25,Y,1,2,"mat-progress-spinner",14),n.qZA(),n.TgZ(26,"button",15),n.NdJ("click",function(){n.CHM(i);const m=n.MAs(32);return n.KtG(o.signUp(m))}),n.YNc(27,w,2,0,"span",7),n.YNc(28,R,1,2,"mat-progress-spinner",14),n.qZA(),n.TgZ(29,"a",16),n._uU(30,"Forgot Password? "),n.qZA()()()(),n.YNc(31,P,48,22,"ng-template",null,17,n.W1O)}if(2&e){const i=n.MAs(16);let r,m;n.xp6(1),n.Q6J("ngIf",o.showAlert),n.xp6(1),n.Q6J("formGroup",o.signInForm),n.xp6(3),n.Q6J("svgIcon","heroicons_outline:user"),n.xp6(3),n.Q6J("formControlName","userName"),n.xp6(1),n.Q6J("ngIf",null==(r=o.signInForm.get("userName"))?null:r.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(m=o.signInForm.get("userName"))?null:m.hasError("email")),n.xp6(2),n.Q6J("svgIcon","heroicons_outline:key"),n.xp6(3),n.Q6J("formControlName","password"),n.xp6(3),n.Q6J("ngIf","password"===i.type),n.xp6(1),n.Q6J("ngIf","text"===i.type),n.xp6(4),n.Q6J("color","primary")("disabled",o.signInForm.disabled),n.xp6(1),n.Q6J("ngIf",!o.signInForm.disabled),n.xp6(1),n.Q6J("ngIf",o.signInForm.disabled),n.xp6(1),n.Q6J("color","primary"),n.xp6(1),n.Q6J("ngIf",!o.signInForm.disabled),n.xp6(1),n.Q6J("ngIf",o.signInForm.disabled),n.xp6(1),n.Q6J("routerLink",n.DdM(18,L))}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,I.Nt,p.KE,p.hX,p.TO,p.qo,p.R9,Z.Hw,u.zs,u.lW,u.RK,v.W,Q.J,c.rH,_.O5],data:{animation:T.L}});var X=a(7775),W=a(3850);const h=[{path:"",component:g}];class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[s.UX,I.c,Z.Ps,u.ot,X.fC,W.X,c.Bz.forChild(h),_.ez]})}}]);